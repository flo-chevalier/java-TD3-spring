<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Formulaire</title>
    <link rel="stylesheet" href="/bootstrap.min.css">
</head>

<body>
<div class="container">
    <h1>Créer</h1>

    <div th:replace="fragments/erreur :: errorBox"></div>

    <form th:action="@{/etudiants}" th:object="${etudiant}" method="post" class="form">
        <div class="mb-3">
            <label for="prenom" class="form-label">Prénom:</label>
            <input th:field="*{prenom}" id="prenom" class="form-control">
        </div>
        <div class="mb-3">
            <label for="nom" class="form-label">Nom:</label>
            <input th:field="*{nom}" id="nom" class="form-control">
        </div>
        <div class="mb-3">
            <label for="promotion" class="form-label">Promotion:</label>
            <select th:field="*{promotion}" id="promotion" class="form-select">
                <option th:if="${promotions == null or #lists.isEmpty(promotions)}" value="">-- Aucune promotion --
                </option>
                <option th:each="promo : ${promotions}"
                        th:value="${promo.id}"
                        th:text="${promo.nom}"
                        th:selected="${etudiant.promotion != null} ? ${promo.id} == ${etudiant.promotion.id} : false">
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <a th:href="@{/etudiants}" class="btn btn-warning">Annuler</a>
    </form>
</div>

<script src="/bootstrap.min.js"></script>
</body>
</html>
